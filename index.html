<!DOCTYPE html>
<html>
<head>
    <title>home_page</title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no"/>
    <meta name="apple-touch-fullscreen" content="yes">
    <meta name="apple-mobile-web-app-capable" content="no"/>
    <meta name=”apple-mobile-web-app-capable” content=”yes”/>
    <meta name=”apple-mobile-web-app-status-bar-style” content=”default”/>
    <meta name=”apple-mobile-web-app-status-bar-style” content=”black”/>
    <meta name=”apple-mobile-web-app-status-bar-style” content=”black-translucent”/>
    <meta name="format-detection" content="telephone=no"/>
    <meta name="format-detection" content="address=no"/>

    <link rel="stylesheet" href="css/demo.css">
    <link rel="stylesheet" href="css/iconfont.css">
    <link type="text/css" rel="stylesheet" href="css/reset.css">
    <link type="text/css" rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/check.css">
    <link rel="stylesheet" href="css/checkp.css">
    <link type="text/css" rel="stylesheet" href="css/style.css">
</head>
<body >
    <div class="container" ng-app="myApp" ng-controller="myController">


        <header class="header">
            <span class="iconfont icon-arrowleft"></span><span class="iconfont icon-xinxi f18"></span>
            <p>订单支付</p>
        </header>

        <section class="content">

            <div class="min">
                <div class="top">
                    <p><b>路飞</b><span>138****8888</span></p>
                </div>
                <div class="bottom">
                    <span class="iconfont icon-ziyuan3"></span>
                    <span class="iconfont icon-arrowright "></span>
                    <p>北京市海淀区知春路北京市海淀区知春路北京市海淀区 知春路</p>
                </div>
            </div>

            <div class="sty1"></div>
            <div class="sty2"></div>

            <div class="nav">
                <p><img src="images/icon_01.png" alt=""><span>恒之然旗舰店</span></p>
            </div>

            <div class="hospital">

                <div class="tooth" ng-repeat="x in data">
                    <div >
                        <p>
                            <img src="images/photo_01.png" >
                            <input type="checkbox" ng-model='x.checked'>
                            <span>{{x.name}}</span>
                        </p>

                        <span class="price1">{{x.moy}}</span>

                        <span class="price2">{{x.price}}</span>

                        <span class="price3">{{x.moy}}{{x.mm}}</span>

                        <p class="btt">
                            <button class="btn btn1" ng-click='jian($index,"-")'>-</button>
                            <input type="text" class="txt" ng-model="x.count">
                            <button class="btn btn2" ng-click='jian($index,"+")'>+</button>
                        </p>
                    </div>

                </div>

            </div>

            <div class="tite">
                <p><span>商品总金额:</span><span>¥988.00</span></p>
                <p><span>运费:</span><span>¥10.00</span></p>
                <p><span>总额(含运费):</span><span class="red">¥998.00</span></p>

            </div>

            <div class="sty3"></div>

            <div class="tite1">
                <p><span>余额支付 ¥100.00</span></p>

                <div class="checkep">
                    <input type="checkbox" id="aaa"/>
                    <label for="aaa">
                        <div class="checked_btn"></div>
                    </label>
                </div>

                <p><span>奖金支付 ¥100.00</span></p>

                <div class="checkep1">
                    <input type="checkbox" id="bbb"/>
                    <label for="bbb">
                        <div class="checked_btn"></div>
                    </label>
                </div>

                <p><span>其他支付方式</span><span class="iconfont icon-arrowright "></span></p>

            </div>



        </section>

        <footer class="footer">
            <p>数量:<span ng-bind='total("sum")'></span></p>
            <p>总金额:￥<span ng-bind='total("total")'></span></p>
            <a>提交订单</a>
        </footer>


    <script src="js/angular.min.js"></script>
    <script src="js/jquery-2.2.0.min.js"></script>
    <script>
        var app=angular.module('myApp',[]);
        app.controller('myController',function($scope){
            $scope.data=[
                {
                    id:1,
                    name:'维维嚼益嚼水果大豆棒橙味维维嚼 益嚼水果大豆棒橙味...',
                    count:1,
                    moy: '￥',
                    price: 988,
                    mm:1000.00
                }
            ];
            $scope.total=0;
            //添加数量函数和减少数量函数
            $scope.jian=function(i,type){
                console.log(i,type)
                if(type=='-'){
                    $scope.data[i].count--;
                    if($scope.data[i].count<0)
                        $scope.data[i].count=0;

                }else{
                    $scope.data[i].count++;
                }
            };
            $scope.total=function(todo){
                var number=0;
                for(var i=0;i<$scope.data.length;i++){
                    if($scope.data[i].checked){
                        if(todo=='total'){
                            number+=$scope.data[i].price*$scope.data[i].count;
                        }else{
                            number+=$scope.data[i].count;
                        }
                    }
                }
                return number;
            };

        })

    </script>
</body>
</html>